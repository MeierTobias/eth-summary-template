% colors
\usepackage{color,xcolor}
\definecolor{sectionColor}{HTML}{15836c}  % 1c59c9
\definecolor{subSectionColor}{HTML}{1c59c9} % 568ae8
\definecolor{subSubsectionColor}{HTML}{568ae8} % 87a9e8
\definecolor{paragraphColor}{HTML}{87a9e8} % 87a9e8
\definecolor{subParagraphColor}{HTML}{87a9e8} % 87a9e8
\definecolor{exampleColor}{HTML}{c3c2c5}
\definecolor{titleTextColor}{RGB}{255,255,255}

% multicol settings
\setlength{\premulticols}{1pt}
\setlength{\postmulticols}{1pt}
\setlength{\multicolsep}{1pt}
\setlength{\columnsep}{5pt}
\setlength{\columnseprule}{1pt}
\def\columnseprulecolor{\color{lightgray}}

% define header style
\usepackage[headsepline]{scrlayer-scrpage}
\pagestyle{scrheadings}
\ihead{\summaryTitle{} - \today}
\chead{\pagemark}
\ohead{\url{\repoURL}}
\setlength{\headsep}{5pt}

% hyperlinks have to be included last
\usepackage{hyperref}
\hypersetup{
  colorlinks,
  citecolor=blue,
  filecolor=black,
  linkcolor=black,
  urlcolor=black,
  pdftitle={\summaryTitle{}}
}

% set the size of a section
\usepackage{parskip}
\setlength{\parindent}{0pt}
\setlength{\parskip}{0pt}

% used for colored boxes
\usepackage[many]{tcolorbox}

% customize the headers
\usepackage[explicit]{titlesec}
\usepackage{titletoc}

% creates a custom title background 
\newcommand{\customtitlebackground}[3]{\begin{tcolorbox}[
      enhanced,
      boxrule=0pt,
      arc=0pt,
      outer arc=0pt,
      left=0pt,
      right=0pt,
      top=0pt,
      bottom=0pt,
      nobeforeafter,
      interior code={\fill[overlay,#1] (frame.north west) rectangle (frame.south east);},
    ]\textcolor{#2}{#3\hspace{0.5em}#1}
  \end{tcolorbox}}

% update section title
\titleformat{\section}
{\normalfont\bfseries\fontfamily{lmss}\selectfont}{}{0pt}
{\customtitlebackground{sectionColor}{titleTextColor}{\thesection}}[{\startcontents[section]}]
\titlespacing{\section}{0pt}{1pt}{0pt}

% update subsection title
\titleformat{\subsection}
{\normalfont\bfseries\fontfamily{lmss}\selectfont}{}{0pt}
{\customtitlebackground{subSectionColor}{titleTextColor}{\thesubsection}}
\titlespacing{\subsection}{0pt}{1pt}{0pt}

% update subsubsection title
\titleformat{\subsubsection}
{\normalfont\bfseries\fontfamily{lmss}\selectfont}{}{0pt}
{\customtitlebackground{subSubsectionColor}{titleTextColor}{\thesubsubsection}}
\titlespacing{\subsubsection}{0pt}{1pt}{0pt}

% update paragraph title
\titleformat{\paragraph}
{\normalfont\bfseries\fontfamily{lmss}\selectfont}{}{0pt}
{\customtitlebackground{paragraphColor}{titleTextColor}{\theparagraph}}
\titlespacing{\paragraph}{0pt}{1pt}{0pt}

% update subparagraph title
\titleformat{\subparagraph}
{\normalfont\bfseries\fontfamily{lmss}\selectfont}{}{0pt}
{\customtitlebackground{subParagraphColor}{titleTextColor}{\thesubparagraph}}
\titlespacing{\subparagraph}{0pt}{1pt}{0pt}

% Create a TOC for the current section
\newcommand{\createsectiontoc}{
  \printcontents[section]{p}{2}{}{}%
}
% Removes the page numbering from the sub- and subsub-section
\titlecontents{subsection}[0.2em]{}{\thecontentslabel\hspace{1em}}{}{}[]
\titlecontents{subsubsection}[2.6em]{}{\thecontentslabel\hspace{1em}}{}{}[]
\titlecontents{paragraph}[5.7em]{}{\thecontentslabel\hspace{1em}}{}{}[]

% Example section environment
\newenvironment{examplesection}[1][]
{
  \ifnum\value{section}=0
    \PackageError{examplesection}{Can't place an examplesection here}{Create a section first.}
  \else
    \ifnum\value{subsection}=0
      \subsection{#1}
    \else
      \ifnum\value{subsubsection}=0
        \subsubsection{#1}
      \else
        \ifnum\value{paragraph}=0
          \paragraph{#1}
        \else
          \subparagraph{#1}
        \fi
      \fi
    \fi
  \fi

  \color{blue}
}
{
}

% exclude examples if specified
\if 0\includeexamples
  \excludecomment{examplesection}
\fi